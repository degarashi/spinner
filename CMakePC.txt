
include_directories(${PROJECT_SOURCE_DIR})
# OS依存ファイルのマクロ設定
if(${WIN32})
	add_definitions(-DWIN32)
	set(TOOL_PREFIX mingw)
elseif(${UNIX})
	add_definitions(-DUNIX)
	set(TOOL_PREFIX deb)
else()
	message(FATAL_ERROR "couldn't detect OS type")
endif()

# Use SSE instructions
# set(SSE_LEVEL 2)
# Use NEON instructions
# set(NEON_LEVEL 1)

if(DEFINED SSE_LEVEL)
	if(${SSE_LEVEL} GREATER 0)
		add_definitions(-DSSE_LEVEL=${SSE_LEVEL})
		set(DEPEND_CFLAG "${DEPEND_CFLAG} -msse2")
		message("configured as to using SSE-" ${SSE_LEVEL} " instructions...")
	endif()
elseif(DEFINED NEON_LEVEL)
	if(${NEON_LEVEL} GREATER 0)
		add_definitions(-DNEON_LEVEL=${NEON_LEVEL})
		set(DEPEND_CFLAG "${DEPEND_CFLAG} -mfpu=neon")
		message("configured as to using NEON-" ${NEON_LEVEL} " instructions...")
	endif()
endif()

set(CMAKE_C_FLAGS ${DEPEND_CFLAG})
set(CMAKE_CXX_FLAGS "${CMAKE_C_FLAGS} -std=c++11")
set(CMAKE_CXX_FLAGS_DEBUG "-DDEBUG -ggdb3 -O0")
set(CMAKE_CXX_FLAGS_RELEASE "-O2")
